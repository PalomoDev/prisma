# API –∏ Server Actions

## üìã –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Next.js Server Actions** –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏. –í—Å–µ actions –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏.

## üîÑ –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

```typescript
interface ActionResponse<T> {
  success: boolean;
  data?: T;
  message?: string;
  error?: string;
}
```

## üì¶ Product Actions (`lib/actions/product.actions.ts`)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤

#### `createProduct(data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `InsertProductSchema` (—Å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏)
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Product>`
- **–ü—Ä–æ–≤–µ—Ä–∫–∏**: –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å slug –∏ SKU, —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –±—Ä–µ–Ω–¥–∞

#### `updateProduct(id, data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–æ–≤–∞—Ä–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`, `InsertProductSchema`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Product>`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

#### `deleteProduct(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<boolean>`

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤

#### `getAllProducts({ page, limit })`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `page?: number`, `limit?: number`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `GetAllProductsResponse`
- **–í–∫–ª—é—á–∞–µ—Ç**: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏, –±—Ä–µ–Ω–¥—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

#### `getFeaturedProducts(limit)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `limit?: number` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 4)
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Product[]>`

#### `getProductById(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –ø–æ ID
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Product>`
- **–í–∫–ª—é—á–∞–µ—Ç**: –ü–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏

#### `getProductBySlug(slug)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –ø–æ slug
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `slug: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Product>`
- **–í–∫–ª—é—á–∞–µ—Ç**: –í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞

#### `getGalleryProducts()`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ProductsGalleryResponse`
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫

## üõí Cart Actions (`lib/actions/cart.actions.ts`)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω–æ–π

#### `addItemToCart(data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `CartItem`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<boolean>`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –≥–æ—Å—Ç–µ–≤—ã–º–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

#### `removeItemFromCart(productId)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ 1
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `productId: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<boolean>`

#### `removeEntireItemFromCart(productId)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `productId: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<boolean>`

#### `getMyCart()`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `Cart | null`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥–æ—Å—Ç–µ–≤—É—é/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –∫–æ—Ä–∑–∏–Ω—É

## üë• User Actions (`lib/actions/user.actions.ts`)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

#### `getAllUsers()`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∞–¥–º–∏–Ω)
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<User[]>`
- **–î–æ—Å—Ç—É–ø**: –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã

#### `deleteUser(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<boolean>`

## üè∑Ô∏è Category Actions (`lib/actions/category.actions.ts`)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

#### `createCategory(data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `CreateCategoryInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Category>`

#### `updateCategory(id, data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`, `UpdateCategoryInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Category>`

#### `deleteCategory(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<boolean>`

#### `getCategories(activeOnly?)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `activeOnly?: boolean`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Category[]>`

#### `getCategoryById(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ ID
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Category>`

#### `getCategoriesLight()`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ (–¥–ª—è –º–µ–Ω—é)
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<CategoryLight[]>`

## üè∑Ô∏è Brand Actions (`lib/actions/brand.actions.ts`)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–µ–Ω–¥–∞–º–∏

#### `createBrand(data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±—Ä–µ–Ω–¥–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `CreateBrandInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Brand>`

#### `updateBrand(id, data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±—Ä–µ–Ω–¥–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`, `UpdateBrandInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Brand>`

#### `deleteBrand(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ –±—Ä–µ–Ω–¥–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<boolean>`

#### `getBrands(activeOnly?)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –±—Ä–µ–Ω–¥–æ–≤
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `activeOnly?: boolean`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Brand[]>`

#### `getBrandById(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –±—Ä–µ–Ω–¥–∞ –ø–æ ID
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Brand>`

## üè∑Ô∏è Subcategory Actions (`lib/actions/subcategory.actions.ts`)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

#### `createSubcategory(data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `CreateSubcategoryInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Subcategory>`

#### `updateSubcategory(id, data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`, `UpdateSubcategoryInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Subcategory>`

#### `deleteSubcategory(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<boolean>`

#### `getSubcategories(activeOnly?)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `activeOnly?: boolean`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Subcategory[]>`

#### `getSubcategoryById(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ ID
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Subcategory>`

## üîß Spec & Features Actions (`lib/actions/spec-features.actions.ts`)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏

#### `createSpecification(data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `CreateSpecificationInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Specification>`

#### `updateSpecification(id, data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`, `UpdateSpecificationInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Specification>`

#### `deleteSpecification(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<boolean>`

#### `getAllSpecifications(activeOnly?)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `activeOnly?: boolean`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Specification[]>`

#### `getSpecificationById(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ ID
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Specification>`

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏

#### `createFeature(data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `CreateFeatureInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Feature>`

#### `updateFeature(id, data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`, `UpdateFeatureInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Feature>`

#### `deleteFeature(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<boolean>`

#### `getAllFeatures(activeOnly?)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `activeOnly?: boolean`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Feature[]>`

#### `getFeatureById(id)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ ID
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `id: string`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<Feature>`

## üîê Auth Actions (`lib/actions/auth.actions.ts`)

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### `signUp(data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `SignUpFormInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<User>`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ email

#### `signInWithCredentials(data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í—Ö–æ–¥ —Å email –∏ –ø–∞—Ä–æ–ª–µ–º
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `LoginUserInput`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `ActionResponse<User>`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è, —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏

## üåê API Routes (`app/api/`)

### NextAuth.js (`app/api/auth/[...nextauth]/route.ts`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã**: `/api/auth/signin`, `/api/auth/signout`, `/api/auth/session`

### UploadThing (`app/api/uploadthing/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã**: `/api/uploadthing`
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤, –ª–æ–≥–æ—Ç–∏–ø—ã –±—Ä–µ–Ω–¥–æ–≤

## üîß –£—Ç–∏–ª–∏—Ç—ã

### `formatError(error)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `lib/utils.ts`

### `prismaToJson(data)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è Prisma –æ–±—ä–µ–∫—Ç–æ–≤
- **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `lib/utils/prisma-serializer.ts`

### `requireAdmin()`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `lib/auth-guard.ts`

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í —Å–µ—Ä–≤–µ—Ä–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
```typescript
// app/admin/products/page.tsx
export default async function AdminProductPage() {
  const products = await getAllProducts({ page: 1 });
  
  if (!products.success) {
    return <div>Error: {products.message}</div>;
  }
  
  return <ProductTable products={products.data} />;
}
```

### –í –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
```typescript
// components/forms/product-form.tsx
'use client';

const handleSubmit = async (data: FormData) => {
  const result = await createProduct(data);
  
  if (result.success) {
    toast.success('–¢–æ–≤–∞—Ä —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ');
    router.push('/admin/products');
  } else {
    toast.error(result.message || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞');
  }
};
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```typescript
try {
  const result = await someAction(data);
  return result;
} catch (error) {
  console.error('Action error:', error);
  return {
    success: false,
    error: formatError(error)
  };
}
```

## üîÑ Middleware

### `middleware.ts`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π
- **–ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã**: `/admin/*`, `/shipping-*`, `/profile/*`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–æ–Ω–Ω–æ–π –∫–æ—Ä–∑–∏–Ω—ã

## üìä –í–∞–ª–∏–¥–∞—Ü–∏—è

–í—Å–µ Server Actions –∏—Å–ø–æ–ª—å–∑—É—é—Ç **Zod —Å—Ö–µ–º—ã** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

- `insertProductSchema` - —Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
- `cartItemSchema` - —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ä–∑–∏–Ω—ã
- `createCategorySchema` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `signUpFormSchema` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
1. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Promise.all()` –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
2. **–°–µ–ª–µ–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** - –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `revalidatePath()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
1. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –≤—Å–µ–≥–¥–∞ –≤–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ –∫–∞–∂–¥–æ–º action
3. **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `prismaToJson()` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

### –û—Ç–ª–∞–¥–∫–∞
1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ–±–∞–≤–ª—è–π—Ç–µ console.log –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
2. **–¢–∏–ø–∏–∑–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ TypeScript –¥–ª—è –æ—Ç–ª–æ–≤–∞ –æ—à–∏–±–æ–∫
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –≤—Å–µ–≥–¥–∞ –æ–±–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ –≤ try/catch 